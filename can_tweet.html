<html>
<head>
  <title></title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

  <style type="text/css">
    article {
      /*position: relative;*/
      width: 500px;
      margin-top: 100px;
      margin-left:200px;
    }

    #num_of_chars {
      position: absolute;
      border: 2px black solid;
      padding: 2px;
      border-radius: 1px;
      background-color: white;
      z-index: 100;
    }
    
  </style>
  <script type="text/javascript">
    $(document).ready(function () {
        function getSelectionText() {
            var text = "";
            if (window.getSelection) {
                text = window.getSelection().toString();
                if (text.length > 1 && text.length <= 90) {
                    $('#num_of_chars').show().html("<span style='color:green'>" + text.length + " </span>");
                }
                else if (text.length > 90) {
                    var tooMany = text.length - 90;
                    $('#num_of_chars').show().html("<span style='color:red'>" + text.length + " </span>");
                }
                else {
                    $('#num_of_chars').hide().html("Not yet") //.css("display", "none");
                }   
            }
            return text;
        }

        var isDragging = false;

        var relX = 0;
        var relY = 0;

        $('article').mousedown(function(){

            $('article').mousemove(function(e){
                getSelectionText();
                $('#num_of_chars').css("top", e.pageY + 10).css("left", e.pageX + 10);
                
        //         relX = e.pageX;// - parentOffset.left;
        //         relY = e.pageY;// - parentOffset.top;
            });
        });


        // $('article').mouseup(function(e){
        //   getSelectionText();     
        // });
                
           
       

    });
  </script>
</head>
<body>
  <article>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque error fuga nihil quos aut repellat maxime ea consequuntur veritatis aspernatur illo deserunt tempore quasi necessitatibus consequatur mollitia quidem voluptates aperiam.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque error fuga nihil quos aut repellat maxime ea consequuntur veritatis aspernatur illo deserunt tempore quasi necessitatibus consequatur mollitia quidem voluptates aperiam.
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque error fuga nihil quos aut repellat maxime ea consequuntur veritatis aspernatur illo deserunt tempore quasi necessitatibus consequatur mollitia quidem voluptates aperiam.

    </p>
  
    <p id="num_of_chars">Not yet</p>
  </article>
</body>
</html>